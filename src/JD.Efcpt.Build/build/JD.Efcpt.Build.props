<Project>
  <PropertyGroup>
    <!-- Enablement -->
    <EfcptEnabled Condition="'$(EfcptEnabled)'==''">true</EfcptEnabled>

    <!-- Output -->
    <EfcptOutput Condition="'$(EfcptOutput)'==''">$(BaseIntermediateOutputPath)efcpt\</EfcptOutput>
    <EfcptGeneratedDir Condition="'$(EfcptGeneratedDir)'==''">$(EfcptOutput)Generated\</EfcptGeneratedDir>

    <!-- Input overrides -->
    <EfcptSqlProj Condition="'$(EfcptSqlProj)'==''"></EfcptSqlProj>
    <EfcptDacpac Condition="'$(EfcptDacpac)'==''"></EfcptDacpac>
    <EfcptConfig Condition="'$(EfcptConfig)'==''">efcpt-config.json</EfcptConfig>
    <EfcptRenaming Condition="'$(EfcptRenaming)'==''">efcpt.renaming.json</EfcptRenaming>
    <EfcptTemplateDir Condition="'$(EfcptTemplateDir)'==''">Template</EfcptTemplateDir>

    <!-- Connection String Configuration -->
    <EfcptConnectionString Condition="'$(EfcptConnectionString)'==''"></EfcptConnectionString>
    <EfcptAppSettings Condition="'$(EfcptAppSettings)'==''"></EfcptAppSettings>
    <EfcptAppConfig Condition="'$(EfcptAppConfig)'==''"></EfcptAppConfig>
    <EfcptConnectionStringName Condition="'$(EfcptConnectionStringName)'==''">DefaultConnection</EfcptConnectionStringName>

    <!-- Solution probing -->
    <EfcptSolutionDir Condition="'$(EfcptSolutionDir)'==''">$(SolutionDir)</EfcptSolutionDir>
    <EfcptSolutionPath Condition="'$(EfcptSolutionPath)'==''">$(SolutionPath)</EfcptSolutionPath>
    <EfcptProbeSolutionDir Condition="'$(EfcptProbeSolutionDir)'==''">true</EfcptProbeSolutionDir>

    <!-- Tooling -->
    <EfcptToolMode Condition="'$(EfcptToolMode)'==''">auto</EfcptToolMode>
    <EfcptToolPackageId Condition="'$(EfcptToolPackageId)'==''">ErikEJ.EFCorePowerTools.Cli</EfcptToolPackageId>
    <EfcptToolVersion Condition="'$(EfcptToolVersion)'==''">10.*</EfcptToolVersion>
    <EfcptToolRestore Condition="'$(EfcptToolRestore)'==''">true</EfcptToolRestore>
    <EfcptToolCommand Condition="'$(EfcptToolCommand)'==''">efcpt</EfcptToolCommand>
    <EfcptToolPath Condition="'$(EfcptToolPath)'==''"></EfcptToolPath>
    <EfcptDotNetExe Condition="'$(EfcptDotNetExe)'==''">dotnet</EfcptDotNetExe>

    <!-- Fingerprinting -->
    <EfcptFingerprintFile Condition="'$(EfcptFingerprintFile)'==''">$(EfcptOutput)fingerprint.txt</EfcptFingerprintFile>
    <EfcptStampFile Condition="'$(EfcptStampFile)'==''">$(EfcptOutput).efcpt.stamp</EfcptStampFile>

    <!-- Diagnostics -->
    <EfcptLogVerbosity Condition="'$(EfcptLogVerbosity)'==''">minimal</EfcptLogVerbosity>
    <EfcptDumpResolvedInputs Condition="'$(EfcptDumpResolvedInputs)'==''">false</EfcptDumpResolvedInputs>

    <!--
      Split Outputs: separate a primary Models project from a secondary Data project.
      Enable EfcptSplitOutputs in the Models project (with EfcptEnabled=true) and
      set EfcptDataProject to the target Data project that should receive DbContext
      and configuration classes.

      The Models project runs efcpt and generates all files. It keeps the entity
      model classes (for example, in a Models/ subdirectory), and copies DbContext
      and configuration classes to the configured Data project.
    -->
    <EfcptSplitOutputs Condition="'$(EfcptSplitOutputs)'==''">false</EfcptSplitOutputs>
    <EfcptDataProject Condition="'$(EfcptDataProject)'==''"></EfcptDataProject>
    <EfcptDataProjectOutputSubdir Condition="'$(EfcptDataProjectOutputSubdir)'==''">obj\efcpt\Generated\</EfcptDataProjectOutputSubdir>

    <!-- External Data: for Data project to include DbContext/configs copied from Models project -->
    <EfcptExternalDataDir Condition="'$(EfcptExternalDataDir)'==''"></EfcptExternalDataDir>
  </PropertyGroup>
</Project>
